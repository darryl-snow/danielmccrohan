!function(c){var b='[data-dismiss="alert"]',a=function(d){c(d).on("click",b,this.close)};a.prototype.close=function(i){var h=c(this),f=h.attr("data-target"),g;if(!f){f=h.attr("href");f=f&&f.replace(/.*(?=#[^\s]*$)/,"")}g=c(f);i&&i.preventDefault();g.length||(g=h.hasClass("alert")?h:h.parent());g.trigger(i=c.Event("close"));if(i.isDefaultPrevented()){return}g.removeClass("in");function d(){g.trigger("closed").remove()}c.support.transition&&g.hasClass("fade")?g.on(c.support.transition.end,d):d()};c.fn.alert=function(d){return this.each(function(){var f=c(this),e=f.data("alert");if(!e){f.data("alert",(e=new a(this)))}if(typeof d=="string"){e[d].call(f)}})};c.fn.alert.Constructor=a;c(function(){c("body").on("click.alert.data-api",b,a.prototype.close)})}(window.jQuery);!function(b){var a=function(d,c){this.$element=b(d);this.options=b.extend({},b.fn.button.defaults,c)};a.prototype.setState=function(f){var h="disabled",c=this.$element,e=c.data(),g=c.is("input")?"val":"html";f=f+"Text";e.resetText||c.data("resetText",c[g]());c[g](e[f]||this.options[f]);setTimeout(function(){f=="loadingText"?c.addClass(h).attr(h,h):c.removeClass(h).removeAttr(h)},0)};a.prototype.toggle=function(){var c=this.$element.parent('[data-toggle="buttons-radio"]');c&&c.find(".active").removeClass("active");this.$element.toggleClass("active")};b.fn.button=function(c){return this.each(function(){var f=b(this),e=f.data("button"),d=typeof c=="object"&&c;if(!e){f.data("button",(e=new a(this,d)))}if(c=="toggle"){e.toggle()}else{if(c){e.setState(c)}}})};b.fn.button.defaults={loadingText:"loading..."};b.fn.button.Constructor=a;b(function(){b("body").on("click.button.data-api","[data-toggle^=button]",function(d){var c=b(d.target);if(!c.hasClass("btn")){c=c.closest(".btn")}c.button("toggle")})})}(window.jQuery);!function(a){var b=function(d,c){this.$element=a(d);this.options=a.extend({},a.fn.collapse.defaults,c);if(this.options.parent){this.$parent=a(this.options.parent)}this.options.toggle&&this.toggle()};b.prototype={constructor:b,dimension:function(){var c=this.$element.hasClass("width");return c?"width":"height"},show:function(){var f,c,e,d;if(this.transitioning){return}f=this.dimension();c=a.camelCase(["scroll",f].join("-"));e=this.$parent&&this.$parent.find("> .accordion-group > .in");if(e&&e.length){d=e.data("collapse");if(d&&d.transitioning){return}e.collapse("hide");d||e.data("collapse",null)}this.$element[f](0);this.transition("addClass",a.Event("show"),"shown");this.$element[f](this.$element[0][c])},hide:function(){var c;if(this.transitioning){return}c=this.dimension();this.reset(this.$element[c]());this.transition("removeClass",a.Event("hide"),"hidden");this.$element[c](0)},reset:function(c){var d=this.dimension();this.$element.removeClass("collapse")[d](c||"auto")[0].offsetWidth;this.$element[c!==null?"addClass":"removeClass"]("collapse");return this},transition:function(g,d,e){var f=this,c=function(){if(d.type=="show"){f.reset()}f.transitioning=0;f.$element.trigger(e)};this.$element.trigger(d);if(d.isDefaultPrevented()){return}this.transitioning=1;this.$element[g]("in");a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,c):c()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};a.fn.collapse=function(c){return this.each(function(){var f=a(this),e=f.data("collapse"),d=typeof c=="object"&&c;if(!e){f.data("collapse",(e=new b(this,d)))}if(typeof c=="string"){e[c]()}})};a.fn.collapse.defaults={toggle:true};a.fn.collapse.Constructor=b;a(function(){a("body").on("click.collapse.data-api","[data-toggle=collapse]",function(h){var g=a(this),c,f=g.attr("data-target")||h.preventDefault()||(c=g.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),d=a(f).data("collapse")?"toggle":g.data();a(f).collapse(d)})})}(window.jQuery);!function(e){var a=function(i,h){this.options=h;this.$element=e(i).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this))};a.prototype={constructor:a,toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var h=this;if(this.isShown){return}e("body").addClass("modal-open");this.isShown=true;this.$element.trigger("show");d.call(this);c.call(this,function(){var i=e.support.transition&&h.$element.hasClass("fade");!h.$element.parent().length&&h.$element.appendTo(document.body);h.$element.show();if(i){h.$element[0].offsetWidth}h.$element.addClass("in");i?h.$element.one(e.support.transition.end,function(){h.$element.trigger("shown")}):h.$element.trigger("shown")})},hide:function(i){i&&i.preventDefault();if(!this.isShown){return}var h=this;this.isShown=false;e("body").removeClass("modal-open");d.call(this);this.$element.trigger("hide").removeClass("in");e.support.transition&&this.$element.hasClass("fade")?g.call(this):f.call(this)}};function g(){var h=this,i=setTimeout(function(){h.$element.off(e.support.transition.end);f.call(h)},500);this.$element.one(e.support.transition.end,function(){clearTimeout(i);f.call(h)})}function f(h){this.$element.hide().trigger("hidden");c.call(this)}function c(k){var j=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var h=e.support.transition&&i;this.$backdrop=e('<div class="modal-backdrop '+i+'" />').appendTo(document.body);if(this.options.backdrop!="static"){this.$backdrop.click(e.proxy(this.hide,this))}if(h){this.$backdrop[0].offsetWidth}this.$backdrop.addClass("in");h?this.$backdrop.one(e.support.transition.end,k):k()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(b,this)):b.call(this)}else{if(k){k()}}}}function b(){this.$backdrop.remove();this.$backdrop=null}function d(){var h=this;if(this.isShown&&this.options.keyboard){e(document).on("keyup.dismiss.modal",function(i){i.which==27&&h.hide()})}else{if(!this.isShown){e(document).off("keyup.dismiss.modal")}}}e.fn.modal=function(h){return this.each(function(){var k=e(this),j=k.data("modal"),i=e.extend({},e.fn.modal.defaults,k.data(),typeof h=="object"&&h);if(!j){k.data("modal",(j=new a(this,i)))}if(typeof h=="string"){j[h]()}else{if(i.show){j.show()}}})};e.fn.modal.defaults={backdrop:true,keyboard:true,show:true};e.fn.modal.Constructor=a;e(function(){e("body").on("click.modal.data-api",'[data-toggle="modal"]',function(l){var k=e(this),i,h=e(k.attr("data-target")||(i=k.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),j=h.data("modal")?"toggle":e.extend({},h.data(),k.data());l.preventDefault();h.modal(j)})})}(window.jQuery);!function(b){function a(f,e){var g=b.proxy(this.process,this),c=b(f).is("body")?b(window):b(f),d;this.options=b.extend({},b.fn.scrollspy.defaults,e);this.$scrollElement=c.on("scroll.scroll.data-api",g);this.selector=(this.options.target||((d=b(f).attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""))||"")+" .nav li > a";this.$body=b("body");this.refresh();this.process()}a.prototype={constructor:a,refresh:function(){var c=this,d;this.offsets=b([]);this.targets=b([]);d=this.$body.find(this.selector).map(function(){var f=b(this),e=f.data("target")||f.attr("href"),g=/^#\w/.test(e)&&b(e);return(g&&e.length&&[[g.position().top,e]])||null}).sort(function(f,e){return f[0]-e[0]}).each(function(){c.offsets.push(this[0]);c.targets.push(this[1])})},process:function(){var h=this.$scrollElement.scrollTop()+this.options.offset,e=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,g=e-this.$scrollElement.height(),f=this.offsets,c=this.targets,j=this.activeTarget,d;if(h>=g){return j!=(d=c.last()[0])&&this.activate(d)}for(d=f.length;d--;){j!=c[d]&&h>=f[d]&&(!f[d+1]||h<=f[d+1])&&this.activate(c[d])}},activate:function(e){var d,c;this.activeTarget=e;b(this.selector).parent(".active").removeClass("active");c=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]';d=b(c).parent("li").addClass("active");if(d.parent(".dropdown-menu")){d=d.closest("li.dropdown").addClass("active")}d.trigger("activate")}};b.fn.scrollspy=function(c){return this.each(function(){var f=b(this),e=f.data("scrollspy"),d=typeof c=="object"&&c;if(!e){f.data("scrollspy",(e=new a(this,d)))}if(typeof c=="string"){e[c]()}})};b.fn.scrollspy.Constructor=a;b.fn.scrollspy.defaults={offset:10};b(function(){b('[data-spy="scroll"]').each(function(){var c=b(this);c.scrollspy(c.data())})})}(window.jQuery);!function(a){a(function(){a.support.transition=(function(){var b=(function(){var e=document.createElement("bootstrap"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},c;for(c in d){if(e.style[c]!==undefined){return d[c]}}}());return b&&{end:b}})()})}(window.jQuery);(function(a){a.extend({jTwitter:function(f,e,b){var d={};if(f=="undefined"||e=="undefined"){return}else{if(a.isFunction(e)){b=e;e=5}}var c="http://twitter.com/status/user_timeline/"+f+".json?count="+e+"&callback=?";a.getJSON(c,function(g){if(a.isFunction(b)){b.call(this,g)}})}})})(jQuery);(function(h,g,l){var k=g.event,j;k.special.smartresize={setup:function(){g(this).bind("resize",k.special.smartresize.handler)},teardown:function(){g(this).unbind("resize",k.special.smartresize.handler)},handler:function(b,o){var m=this,e=arguments;b.type="smartresize",j&&clearTimeout(j),j=setTimeout(function(){g.event.handle.apply(m,e)},o==="execAsap"?0:100)}},g.fn.smartresize=function(b){return b?this.bind("smartresize",b):this.trigger("smartresize",["execAsap"])},g.Mason=function(b,d){this.element=g(d),this._create(b),this._init()},g.Mason.settings={isResizable:!0,isAnimated:!1,animationOptions:{queue:!1,duration:500},gutterWidth:0,isRTL:!1,isFitWidth:!1,containerStyle:{position:"relative"}},g.Mason.prototype={_filterFindBricks:function(d){var c=this.options.itemSelector;return c?d.filter(c).add(d.find(c)):d},_getBricks:function(d){var c=this._filterFindBricks(d).css({position:"absolute"}).addClass("masonry-brick");return c},_create:function(p){this.options=g.extend(!0,{},g.Mason.settings,p),this.styleQueue=[];var o=this.element[0].style;this.originalStyle={height:o.height||""};var m=this.options.containerStyle;for(var b in m){this.originalStyle[b]=o[b]||""}this.element.css(m),this.horizontalDirection=this.options.isRTL?"right":"left",this.offset={x:parseInt(this.element.css("padding-"+this.horizontalDirection),10),y:parseInt(this.element.css("padding-top"),10)},this.isFluid=this.options.columnWidth&&typeof this.options.columnWidth=="function";var a=this;setTimeout(function(){a.element.addClass("masonry")},0),this.options.isResizable&&g(h).bind("smartresize.masonry",function(){a.resize()}),this.reloadItems()},_init:function(b){this._getColumns(),this._reLayout(b)},option:function(b,d){g.isPlainObject(b)&&(this.options=g.extend(!0,this.options,b))},layout:function(v,u){for(var t=0,s=v.length;t<s;t++){this._placeBrick(v[t])}var r={};r.height=Math.max.apply(Math,this.colYs);if(this.options.isFitWidth){var q=0;t=this.cols;while(--t){if(this.colYs[t]!==0){break}q++}r.width=(this.cols-q)*this.columnWidth-this.options.gutterWidth}this.styleQueue.push({$el:this.element,style:r});var p=this.isLaidOut?this.options.isAnimated?"animate":"css":"css",o=this.options.animationOptions,m;for(t=0,s=this.styleQueue.length;t<s;t++){m=this.styleQueue[t],m.$el[p](m.style,o)}this.styleQueue=[],u&&u.call(v),this.isLaidOut=!0},_getColumns:function(){var d=this.options.isFitWidth?this.element.parent():this.element,c=d.width();this.columnWidth=this.isFluid?this.options.columnWidth(c):this.options.columnWidth||this.$bricks.outerWidth(!0)||c,this.columnWidth+=this.options.gutterWidth,this.cols=Math.floor((c+this.options.gutterWidth)/this.columnWidth),this.cols=Math.max(this.cols,1)},_placeBrick:function(B){var A=g(B),z,y,x,w,v;z=Math.ceil(A.outerWidth(!0)/this.columnWidth),z=Math.min(z,this.cols);if(z===1){x=this.colYs}else{y=this.cols+1-z,x=[];for(v=0;v<y;v++){w=this.colYs.slice(v,v+z),x[v]=Math.max.apply(Math,w)}}var u=Math.min.apply(Math,x),t=0;for(var s=0,r=x.length;s<r;s++){if(x[s]===u){t=s;break}}var q={top:u+this.offset.y};q[this.horizontalDirection]=this.columnWidth*t+this.offset.x,this.styleQueue.push({$el:A,style:q});var p=u+A.outerHeight(!0),b=this.cols+1-r;for(s=0;s<b;s++){this.colYs[t+s]=p}},resize:function(){var b=this.cols;this._getColumns(),(this.isFluid||this.cols!==b)&&this._reLayout()},_reLayout:function(d){var c=this.cols;this.colYs=[];while(c--){this.colYs.push(0)}this.layout(this.$bricks,d)},reloadItems:function(){this.$bricks=this._getBricks(this.element.children())},reload:function(b){this.reloadItems(),this._init(b)},appended:function(f,e,o){if(e){this._filterFindBricks(f).css({top:this.element.height()});var m=this;setTimeout(function(){m._appended(f,o)},1)}else{this._appended(f,o)}},_appended:function(e,d){var f=this._getBricks(e);this.$bricks=this.$bricks.add(f),this.layout(f,d)},remove:function(b){this.$bricks=this.$bricks.not(b),b.remove()},destroy:function(){this.$bricks.removeClass("masonry-brick").each(function(){this.style.position="",this.style.top="",this.style.left=""});var b=this.element[0].style;for(var a in this.originalStyle){b[a]=this.originalStyle[a]}this.element.unbind(".masonry").removeClass("masonry").removeData("masonry"),g(h).unbind(".masonry")}},g.fn.imagesLoaded=function(b){function o(){b.call(t,s)}function m(d){var e=d.target;e.src!==q&&g.inArray(e,p)===-1&&(p.push(e),--r<=0&&(setTimeout(o),s.unbind(".imagesLoaded",m)))}var t=this,s=t.find("img").add(t.filter("img")),r=s.length,q="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",p=[];return r||o(),s.bind("load.imagesLoaded error.imagesLoaded",m).each(function(){var c=this.src;this.src=q,this.src=c}),t};var i=function(a){h.console&&h.console.error(a)};g.fn.masonry=function(b){if(typeof b=="string"){var d=Array.prototype.slice.call(arguments,1);this.each(function(){var a=g.data(this,"masonry");if(!a){i("cannot call methods on masonry prior to initialization; attempted to call method '"+b+"'");return}if(!g.isFunction(a[b])||b.charAt(0)==="_"){i("no such method '"+b+"' for masonry instance");return}a[b].apply(a,d)})}else{this.each(function(){var a=g.data(this,"masonry");a?(a.option(b||{}),a._init()):g.data(this,"masonry",new g.Mason(b,this))})}return this}})(window,jQuery);$(document).ready(function(){$("a[href='#intro']").click(function(){$("#intro").toggle("fast");return false});$("#navbar").scrollspy();var b=false;$(window).scroll(function(){b=true});setInterval(function(){if(b){a();b=false}},50);function a(){if($(window).scrollTop()>150){$(".scrollshow").fadeIn()}else{$(".scrollshow").fadeOut()}}$(".scrollshow").hide();$("a[href*=#]").click(function(){if($(this).attr("href")!="#reviews"&&$(this).attr("href")!="#intro"){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var d=$(this.hash);d=d.length&&d||$("[name="+this.hash.slice(1)+"]");if(d.length){var e=d.offset().top-30;$("html,body").animate({scrollTop:e},1000);return false}}}});var c=(function(){var e=$("#columns"),d=1,i=function(){h();f();g()},h=function(){n=4;var j=$(window).width();if(j<=600){n=1}else{if(j<=768){n=2}else{if(j<=960){n=3}else{n=4}}}},f=function(){$(window).on("resize",function(j){h()})},g=function(){e.imagesLoaded(function(){e.masonry({itemSelector:".book",columnWidth:function(j){return j/n},isAnimated:true,animationOptions:{duration:400}})});e.colladjust()};return{init:i}})();c.init();$("#submit").click(function(){var d=false;var f=$("#message").val();var i=$("#name").val();var h=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;var g=$("#email").val();if(i==""){d=true;$("#name").after("<span>ERROR: please tell me your name!</span>");$("#name").focus()}else{if((!h.test(g))||(g=="")){d=true;$("#email").before("<span>ERROR: please enter a valid email address</span>");$("#email").focus()}else{if(f==""){d=true;$("#message").after("<span>ERROR: please leave a message!</span>");$("#message").focus()}}}if(d){$("form span").fadeOut(5000);return false}else{var e="message="+$("#message").val()+"&name="+$("#name").val()+"&email="+$("#email").val();$("form").hide();$("#contact .loader").show();$.ajax({type:"POST",url:"http://danielmccrohan.com/wp-content/themes/daniel/sendmessage.php",data:e,xhr:function(){if(window.XMLHttpRequest){return new XMLHttpRequest()}else{var k=["Msxml2.XMLHTTP.3.0","Msxml2.XMLHTTP","Microsoft.XMLHTTP"];for(var m=0;m<k.length;m++){try{var j=new ActiveXObject(k[m]);return j}catch(l){}}return null}},success:function(j){if(j=="success"){$("#thanks").show();$("#contact .loader").hide()}else{alert("sorry, there seems to be a problem\nplease try again later");window.location.reload()}},error:function(){alert("sorry, there seems to be a problem\nplease try again later")}});return false}});$.jTwitter("danielmccrohan",3,function(e){function d(g){var f=Date.parse(g);var h=(arguments.length>1)?arguments[1]:new Date();var i=parseInt((h.getTime()-f)/1000);if(i<60){return"less than a minute ago"}else{if(i<120){return"about a minute ago"}else{if(i<(45*60)){return(parseInt(i/60)).toString()+" minutes ago"}else{if(i<(90*60)){return"about an hour ago"}else{if(i<(24*60*60)){return"about "+(parseInt(i/3600)).toString()+" hours ago"}else{if(i<(48*60*60)){return"1 day ago"}else{return(parseInt(i/86400)).toString()+" days ago"}}}}}}}$("#tweets").empty();$.each(e,function(g,f){$("#tweets").append("<li><span>"+d(f.created_at)+"</span> "+f.text+"</li>")})});$("#reviews").modal()});